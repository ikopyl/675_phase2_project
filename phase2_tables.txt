
CREATE TABLE FilmProductionStudio (
	StudioID INTEGER,
	Name VARCHAR(255) NOT NULL,
	PRIMARY KEY (StudioID)
);

CREATE TABLE FilmIndustryWorker (
	SSN CHAR(11),
	FirstName VARCHAR(255) NOT NULL,
	LastName VARCHAR(255) NOT NULL,
	Gender VARCHAR(10),
	MemberOfScreenActorsGuild CHAR(1) NOT NULL,
	PRIMARY KEY (SSN)
);

CREATE TABLE HasContract (
	ContractID INTEGER,
	StudioID INTEGER NOT NULL,
	SSN CHAR(11) NOT NULL,
	Compensation DOUBLE NOT NULL,
	DateSigned DATETIME NOT NULL,
	PRIMARY KEY (ContractID),
	FOREIGN KEY (StudioID) REFERENCES FilmProductionStudio,
	FOREIGN KEY (SSN) REFERENCES FilmIndustryWorker
	ON DELETE SET NULL 
);

CREATE TABLE Movie (
	MovieID INTEGER,
	StudioID INTEGER NOT NULL,
	DirectorSSN CHAR(11) NOT NULL,
	Title VARCHAR(255) NOT NULL,
	Budget DOUBLE,
	PRIMARY KEY (MovieID),
	FOREIGN KEY (StudioID) REFERENCES FilmProductionStudio,
	FOREIGN KEY (DirectorSSN) REFERENCES FilmIndustryWorker
	ON DELETE SET NULL
);

CREATE TABLE Actor (
	SSN CHAR(11) NOT NULL,
	MovieID INTEGER NOT NULL,
	PRIMARY KEY (SSN, MovieID),
	FOREIGN KEY (SSN) REFERENCES FilmIndustryWorker,
	FOREIGN KEY (MovieID) REFERENCES Movie
	ON DELETE CASCADE
);

CREATE TABLE Location(
	LocationID INTEGER,
	Name VARCHAR(255) NOT NULL,
	City VARCHAR(255),
	State VARCHAR(255),
	Country VARCHAR(255),
	PRIMARY KEY (LocationID)
);

CREATE TABLE ShootingSchedule(
	ScheduleID INTEGER,
	MovieID INTEGER NOT NULL,
	LocationID INTEGER NOT NULL,
	Date DATETIME,
	PRIMARY KEY (ScheduleID),
	FOREIGN KEY (MovieID) REFERENCES Movie,
	FOREIGN KEY (LocationID) REFERENCES Location
	ON DELETE CASCADE
);


